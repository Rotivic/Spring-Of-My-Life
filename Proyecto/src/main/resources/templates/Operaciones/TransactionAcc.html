<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
     <link th:href="@{/css/styles.css}" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>    
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
<body>

    <div th:replace="navbar :: header"></div>
    
     <div class="container cuerpo_externo">
    
      <main class="cuerpo_interno">
    
	    	<div class="row d-flex justify-content-center mt-3">
	    	<h1 class="titulo_centrado text-center">OperaciÃ³n entre cuentas</h1>
		    	<div class="col-8 mb-3">
		    	  <form method="POST" action="/renewTransactionData">
			    		<select name="id"  class="form-select form-select-lg ">
			    			<option value="0">Elige un usuario</option>
			    			<option th:each="usuario : ${users}"
		                       th:value="${usuario.id}"
		                       th:utext="${usuario.nombre}"></option>
			    		</select>
			    		<br>
			    		<input class="btn btn-primary" type="submit" value="Buscar"/>
		    	   </form>	
		    	</div>
		    		
		    	<div class="col-8 " th:if="${#lists.size(accounts) > 0}">
		    		
		    		<form method="POST" action="makeMoneyMoveBetAccounts">
		    		    <div class="mt-3">
				    		<select name="id" class="form-select pri" multiple aria-label="multiple select example">
				    			<option value="0" disabled>Elige una cuenta</option>
				    			<option th:each="cuenta : ${accounts}"
			                       th:value="${cuenta.id}"
			                       th:utext="${cuenta.numAccount}"></option>
				    		</select>
			    		</div>
			    		<div class="mt-3">
			    		<select name="idDos" class="form-select seg" multiple aria-label="multiple select example">
			    			<option value="0" disabled>Elige una cuenta</option>
			    			<option th:each="cuenta : ${allAccounts}"
		                       th:value="${cuenta.id}"
		                       th:utext="${cuenta.numAccount}"></option>
			    		</select>
			    		</div>
			    		<div class="mt-3">
			    			<input type="text" placeholder="Cantidad a pasar..." name="dinero"/>
			    		</div>
			    	
			    		<div class="mt-3">
			    		     <input class="btn btn-primary" type="submit" value="Realizar"/>
			    		</div>
			    		
		    	   </form>
		    	
		    	</div>
		    	
		    	<div class="col-8 " th:unless="${#lists.size(accounts) < 0}"></div>
		    </main>	
    	</div>
    	
    </div>
  
  	<script>
  	
  		$(document).ready(function(){
			var elemento = document.querySelector('.pri');
		  	var elemento2 = document.querySelector('.seg');
		  		console.log($(".pri"))
		  		
		  	
					elemento.addEventListener('change', (event) => {
				  	 
				  	  for (var i = 0; i < elemento2.children.length; ++i) {
						if(event.target.value == elemento2.children[i].value || elemento2.children[i].value == 0){
							elemento2.children[i].disabled = true
						}else{
							elemento2.children[i].disabled = false
						}
							
   							
  					
}
					});
				
		  		
		  		
		})
  		
  		
  	</script>
    
</body>
</html>